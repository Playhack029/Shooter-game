<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">

<!-- WAJIB BIAR HP -->
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">

<title>Shooter By Edo</title>
<style>
  body { margin:0; overflow:hidden; background:black; touch-action:none; }
  canvas { display:none; }

  #splash{
    position:fixed; inset:0;
    background:linear-gradient(#000,#111);
    display:flex; flex-direction:column;
    align-items:center; justify-content:center;
    color:white; font-family:Arial;
    z-index:20;
  }
  #splash h1{font-size:36px;margin:0}
  #splash p{opacity:.7;margin:10px 0 25px}
  #splash button{
    padding:12px 26px;font-size:16px;
    border:none;border-radius:8px;cursor:pointer;
  }

  #cmdBox{
    position:fixed;top:18px;left:240px;
    background:rgba(0,0,0,.6);padding:4px;border-radius:6px;
  }
  #cmdBox input{
    width:90px;background:black;color:lime;
    border:none;outline:none;font-size:12px;padding:4px;
  }

  #gameOverUI{
    position:fixed; inset:0;
    display:none; align-items:center; justify-content:center;
    background:rgba(0,0,0,.8);
    flex-direction:column; color:white;
    font-family:Arial; z-index:10;
  }
  #gameOverUI button{
    margin-top:15px; padding:10px 18px;
    font-size:16px; border:none; border-radius:8px;
    background:#ff4d6d; color:white; cursor:pointer;
  }
</style>
</head>
<body>

<div id="splash">
  <h1>ðŸš€ SHOOTER GAME v1.1</h1>
  <p>Created By Edo</p>
  <button onclick="startGame()">START</button>
</div>

<canvas id="game"></canvas>
<div id="cmdBox"><input id="cmdInput" placeholder="cmd"></div>

<div id="gameOverUI">
  <h1>GAME OVER</h1>
  <p id="finalScore"></p>
  <p>Created By</p>
  <button onclick="openIG()">Instagram @Calon_senshu</button>
</div>

<script>
const canvas=document.getElementById("game");
const ctx=canvas.getContext("2d");

/* RESIZE KHUSUS HP */
function resizeCanvas(){
  canvas.width = window.innerWidth;
  canvas.height = window.innerHeight;
  player.y = canvas.height - 80;
}

/* GAME DATA */
let started=false,gameOver=false;
let score=0,weaponLevel=1;
let cheatActive=false;

let player={x:0,y:0,hp:100,maxHp:100};
let bullets=[],enemies=[],stars=[];

let enemySpeed=4,spawnRate=800;
let healEnemy=null;
const HEAL_CD=120000;
let lastHeal=Date.now(),healTimer=HEAL_CD;

let boss=null,bossSpawnScore=1000;

/* SPLASH */
function startGame(){
  splash.style.display="none";
  canvas.style.display="block";

  resizeCanvas();
  window.addEventListener("resize", resizeCanvas);

  player.x = canvas.width/2;
  player.y = canvas.height-80;

  // BG
  stars=[];
  for(let i=0;i<80;i++)
    stars.push({x:Math.random()*canvas.width,y:Math.random()*canvas.height,s:1+Math.random()*2});

  started=true;
  update();
}

/* CMD */
cmdInput.onkeydown=e=>{
  if(e.key==="Enter"){
    const cmd=e.target.value.trim().toUpperCase();
    if(cmd==="ABOUTYOU"){cheatActive=true;enemies=[];boss=null;}
    if(cmd==="KILL"){player.hp=0;}
    e.target.value="";
  }
};

/* MOVE */
canvas.onmousemove=e=>player.x=Math.max(15,Math.min(canvas.width-15,e.clientX));
canvas.ontouchmove=e=>player.x=Math.max(15,Math.min(canvas.width-15,e.touches[0].clientX));

/* AUTO SHOOT */
setInterval(()=>{
  if(!started||gameOver) return;
  let spread=[0];
  if(weaponLevel>=2) spread=[-10,10];
  if(weaponLevel>=3) spread=[0,-18,18];
  spread.forEach(s=>bullets.push({x:player.x+s,y:player.y}));
},300);

/* SPAWN MUSUH */
setInterval(()=>{
  if(!started||gameOver||boss||cheatActive) return;
  enemies.push({x:Math.random()*canvas.width,y:-40});
},spawnRate);

/* HEAL */
function spawnHeal(){
  healEnemy={x:Math.random()*canvas.width,y:-40};
  lastHeal=Date.now();
}

/* BOSS */
function spawnBoss(){ boss={x:canvas.width/2,y:-80,hp:300}; }

/* IG */
function openIG(){ window.open("https://instagram.com/Calon_senshu","_blank"); }

/* UPDATE */
function update(){
  if(!started) return;
  ctx.clearRect(0,0,canvas.width,canvas.height);

  ctx.fillStyle="white";
  stars.forEach(s=>{s.y+=s.s;if(s.y>canvas.height)s.y=0;ctx.fillRect(s.x,s.y,2,2);});

  enemySpeed=4+Math.floor(score/500);
  if(!cheatActive&&!boss&&score>=bossSpawnScore){spawnBoss();bossSpawnScore+=1500;}

  ctx.fillStyle="cyan";
  ctx.fillRect(player.x-15,player.y-15,30,30);

  ctx.fillStyle="red";ctx.fillRect(20,20,200,18);
  ctx.fillStyle="lime";ctx.fillRect(20,20,(player.hp/player.maxHp)*200,18);
  ctx.strokeStyle="white";ctx.strokeRect(20,20,200,18);
  ctx.fillStyle="white";ctx.font="12px Arial";
  ctx.textAlign="center";ctx.fillText(player.hp+" / "+player.maxHp,120,33);
  ctx.textAlign="left";ctx.fillText("Score: "+score,20,65);

  if(!healEnemy){
    healTimer=Math.max(0,HEAL_CD-(Date.now()-lastHeal));
    ctx.fillText("Heal CD: "+Math.ceil(healTimer/1000)+"s",20,90);
    if(healTimer===0) spawnHeal();
  }

  if(score>=300) weaponLevel=2;
  if(score>=700) weaponLevel=3;

  ctx.fillStyle="yellow";
  bullets.forEach((b,i)=>{b.y-=12;ctx.fillRect(b.x-3,b.y-10,6,15);if(b.y<0)bullets.splice(i,1);});

  ctx.fillStyle="red";
  enemies.forEach((e,i)=>{
    e.y+=enemySpeed;ctx.fillRect(e.x-15,e.y-15,30,30);
    if(e.y>player.y+20){player.hp-=5;enemies.splice(i,1);}
    bullets.forEach((b,j)=>{
      if(b.x>e.x-15&&b.x<e.x+15&&b.y>e.y-15&&b.y<e.y+15){
        score+=10;enemies.splice(i,1);bullets.splice(j,1);
      }
    });
  });

  if(player.hp<=0){
    gameOver=true;
    finalScore.innerText="Score: "+score;
    gameOverUI.style.display="flex";
    return;
  }

  requestAnimationFrame(update);
}
</script>
</body>
</html>